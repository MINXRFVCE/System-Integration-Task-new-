@startuml
' === Сущности бизнес-логики ===

class КЛИЕНТ {
  + id: Integer
  + имя: String
  + телефон: String
  + email: String
}

class МАШИНА {
  + id: Integer
  + модель: String
  + гос_номер: String
  + клиент_id: Integer
}

class МОЙКА {
  + id: Integer
  + название: String
  + адрес: String
  + город_id: Integer
  + район_id: Integer
}

class ЗАКАЗ {
  + id: Integer
  + дата_время: DateTime
  + статус: String
  + клиент_id: Integer
  + машина_id: Integer
  + мойка_id: Integer
  + работник_id: Integer
  + бокс_id: Integer
}

' === Справочники ===

class ГОРОДА_СПРАВКА {
  + id: Integer
  + название: String
}

class РАЙОНЫ_СПРАВКИ {
  + id: Integer
  + название: String
  + город_id: Integer
}

' === Связанные с МОЙКОЙ сущности ===

class РАБОТНИКИ {
  + id: Integer
  + имя: String
  + должность: String
  + мойка_id: Integer
}

class БОКСЫ {
  + id: Integer
  + номер: Integer
  + мойка_id: Integer
}

class УСЛУГИ {
  + id: Integer
  + название: String
  + цена: Decimal
  + мойка_id: Integer
}

' === Ассоциации ===

КЛИЕНТ "1" -- "0..*" МАШИНА : владеет
МОЙКА "1" -- "0..*" РАБОТНИКИ : нанимает
МОЙКА "1" -- "0..*" БОКСЫ : содержит
МОЙКА "1" -- "0..*" УСЛУГИ : предлагает

ГОРОДА_СПРАВКА "1" -- "0..*" РАЙОНЫ_СПРАВКИ : включает

ЗАКАЗ "1" --> "1" КЛИЕНТ : от клиента
ЗАКАЗ "1" --> "1" МАШИНА : для машины
ЗАКАЗ "1" --> "1" МОЙКА : в мойке
ЗАКАЗ "1" --> "1" РАБОТНИКИ : выполняет работник
ЗАКАЗ "1" --> "1" БОКСЫ : в боксе

МОЙКА --> ГОРОДА_СПРАВКА : в городе
МОЙКА --> РАЙОНЫ_СПРАВКИ : в районе
@enduml
